/*! CoverflowJS - v3.0.2 - 2017-04-17
* Copyright (c) 2017 Paul Baukus, Addy Osmani, Sebastian Sauer, Brandon Belvin, April Barrett, Kirill Kostko, Anton Schulte; Licensed MIT */
!function(a,b,c,d){function e(a,b,c,d){var e=this;e.widget=a,e.element=b,e.items=c,e.options=d}function f(a){return parseFloat((.017453*a).toFixed(6))}function g(){a.coverflow.renderer.Classic.apply(this,arguments)}function h(a,b){return typeof a===b}function i(a,b){return!!~(""+a).indexOf(b)}function j(a,b){var c,e;for(c in a)if(e=a[c],!i(e,"-")&&z[e]!==d)return"pfx"!==b||e;return!1}function k(b,c,e){var f,g;for(f in b)if((g=c[b[f]])!==d)return!1===e?b[f]:h(g,"function")?a.proxy(g,e||c):g;return!1}function l(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+B.join(d+" ")+d).split(" ");return h(b,"string")||h(b,"undefined")?j(e,b):(e=(a+" "+C.join(d+" ")+d).split(" "),k(e,b,c))}function m(a,b){var c;return function(){var d=this,e=arguments;c&&clearTimeout(c),c=setTimeout(function(){a.apply(d,e),c=null},b)}}a.coverflow={renderer:{},support:{}},e.prototype={cssClass:"classic",itemMargin:0,initialize:function(){var b=this,c=b.options,d={},e=b.items.eq(b.widget.currentIndex);b.itemSize=e.width(),b.outerWidth=b.element.parent().outerWidth(!1),b.itemMargin=-Math.floor(c.overlap/2*e.innerWidth()),b.items.css({marginLeft:b.itemMargin,marginRight:b.itemMargin}),d.width=b.items.width()*b.items.length,a.extend(d,b._getCenterPosition()),b.element.css(d)},_getCenterPosition:function(){var a,b=this,c=b.itemSize,d=b.widget.currentIndex;return a=(b.outerWidth-c)/2,a-=d*b.itemSize/2,a+=parseInt(b.element.css("paddingLeft"),10)||0,a-=d*b.itemMargin*2,a-=b.itemMargin,a=Math.round(a),{left:a}},select:function(){return this._getCenterPosition()},getElementTransitionStyles:function(b){var c=a.coverflow.transition[b.easing]||a.coverflow.transition.easeOutQuint;return a.extend(this._getCenterPosition(),{transition:"left "+b.duration+"ms "+c})},refresh:function(b,c,d){var e=this,f=e.options,g=e.items.length,h=e.itemSize,i=e.itemMargin;this.items.each(function(j){var k=j===d&&c-d<0||j-d>0?"left":"right",l=j===d?1-b:j===c?b:1,m={zIndex:g+("left"===k?d-j:j-d)+10,visibility:"visible"},n=1-l*(1-f.scale),o=[n,l*("right"===k?-.15:.15),0,n,0,0];m.left=h/2*-j+("right"===k?-h/2+h/2*f.overlap:h/2-h/2*f.overlap)*l,f.visibleAside>0&&(j<d-f.visibleAside||j>d+f.visibleAside)&&(m.visibility="hidden"),a.coverflow.isOldie&&(j===d?(m.left+=i,m.top=0):m.top=Math.ceil(-i/2)),e._transform(this,m,o),a(this).css(m)})},_transform:function(){var b=this;if(a.coverflow.support.transform)return void b._matrixTransform.apply(b,arguments);a.coverflow.isOldie&&b._fallbackTransform.apply(b,arguments)},_matrixTransform:function(a,b,c){b.transform="matrix("+c.join(",")+")"},_fallbackTransform:function(a,b,c){a.filters["DXImageTransform.Microsoft.Matrix"]||(a.style.filter=(a.style.filter?"":" ")+'progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand")');var d=a.filters["DXImageTransform.Microsoft.Matrix"];d.M11=c[0],d.M12=c[2],d.M21=c[1],d.M22=c[3]}},a.extend(a.coverflow.renderer,{Classic:e}),g.prototype={cssClass:"3d",initialize:function(){var b=this,c={};b.itemSize=b.items.eq(b.widget.currentIndex).outerWidth(!0),b.outerWidth=b.element.parent().outerWidth(!1),c.width=b.itemSize*b.items.length,a.extend(c,b._getCenterPosition(),b._getPerspectiveOrigin()),b.element.css(c)},getItemRenderedWidth:function(){var a=this.options;return Math.cos(f(a.angle))*this.itemSize*a.scale},_getPerspectiveOrigin:function(){var a=this,b=a.options;return{perspectiveOrigin:Math.round(a.itemSize/2+a.widget.currentIndex*a.getItemRenderedWidth()*(1-b.overlap))+"px "+b.perspectiveY+"%"}},_getCenterPosition:function(){var a,b=this,c=b.getItemRenderedWidth(),d=b.widget.currentIndex;return a=(b.outerWidth-b.itemSize)/2,a-=d*c,a+=d*c*b.options.overlap,a-=parseInt(b.element.css("paddingLeft"),10)||0,a=Math.round(a),{left:a}},select:function(){return a.extend({},this._getCenterPosition(),this._getPerspectiveOrigin())},getElementTransitionStyles:function(b){var c=this,d=a.coverflow.transition[b.easing]||a.coverflow.transition.easeOutQuint,e={transitionProperty:"left",transitionDuration:b.duration+"ms",transitionTimingFunction:d,transitionDelay:"initial"};return a.extend(e,c._getCenterPosition(),c._getPerspectiveOrigin())},refresh:function(b,c,d){var e=this,g=e.options,h=e.items.length,i=e.itemSize,j=e.getItemRenderedWidth();this.items.each(function(e){var k,l=e===d&&c-d<0||e-d>0?"left":"right",m=e===d?1-b:e===c?b:1,n={zIndex:h+("left"===l?d-e:e-d)+10,visibility:"visible"},o=1-m*(1-g.scale),p="right"===l?g.angle:-g.angle;p=f(m*p),n.left=Math.round(-e*i+m*e*j*(1-g.overlap)+(1-m)*e*j*(1-g.overlap)),g.visibleAside>0&&(e<d-g.visibleAside||e>d+g.visibleAside)&&(n.visibility="hidden"),k=[(o*Math.cos(p)).toFixed(6),0,Math.sin(-p).toFixed(6),0,0,o,0,0,Math.sin(p).toFixed(6),0,(o*Math.cos(p)).toFixed(6),0,0,0,0,1],n.transform="matrix3d("+k.join(", ")+")",n.transformOrigin="right"===l?"left center":"right center",a(this).css(n)})}},a.extend(a.coverflow.renderer,{ThreeD:g});for(var n=c.createElement("div"),o=n.style,p=0,q=["ms","moz","webkit","o"],r=q.length,s="",t=0,u=a.coverflow.support,v=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};t<r&&!b.requestAnimationFrame;t++)b.requestAnimationFrame=b[q[t]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[q[t]+"CancelAnimationFrame"]||b[q[t]+"CancelRequestAnimationFrame"];if(b.requestAnimationFrame||(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-p)),e=b.setTimeout(function(){a(c+d)},d);return p=c+d,e}),b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)}),a.each(q,function(a,b){return"ms"!==b&&(b=v(b)),!u.transform&&b+"Transform"in o&&(u.transform=b+"Transform"),!u.transition&&b+"Transition"in o&&(u.transition=b+"Transition"),!u.transform||!u.transition||(s=b,!1)}),u.transform&&u.transition||(u.transform="transform"in o&&"transform",u.transition="transition"in o&&"transition"),null==a.support.transform&&(a.support.transform=u.transform),null==a.support.transition&&(a.support.transition=u.transition),null==a.cssProps)throw new Error("Your jQuery version is too old. Please upgrade.");s&&a.each(["transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","perspectiveOrigin"],function(b,c){null==a.cssProps[c]&&(a.cssProps[c]=s+v(c))}),n=null;var w=c.documentElement,x="coverflowjsfeaturedetection",y=c.createElement(x),z=y.style,A="Webkit Moz O ms",B=A.split(" "),C=A.toLowerCase().split(" "),D=function(a,b,d,e){var f,g,h,i,j=c.createElement("div"),k=c.body,l=k||c.createElement("body");if(parseInt(d,10))for(;d--;)h=c.createElement("div"),h.id=e?e[d]:x+(d+1),j.appendChild(h);return f=["&#173;","<style id='s",x,"'>",a,"</style>"].join(""),j.id=x,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=w.style.overflow,w.style.overflow="hidden",w.appendChild(l)),g=b(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),w.style.overflow=i),!!g},E={}.hasOwnProperty;h(E,"undefined")||h(E.call,"undefined"),a.coverflow.support.transform3d=function(){var a=!!l("perspective");return a&&"webkitPerspective"in w.style&&D("@media (transform-3d),(-webkit-transform-3d){#coverflowjsfeaturedetection{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a}(),null==a.support.transform3d&&(a.support.transform3d=a.coverflow.support.transform3d);var F={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"transitionend"},G=navigator.userAgent.toLowerCase(),H=function(){var a=/(msie) ([\w.]+)/.exec(G);return null!==a&&a[1]&&~~a[2]<10}();a.coverflow=a.extend(!0,{},a.coverflow,{isAndroid:/android/.test(G),isOldie:H,transition:{easeInQuad:"cubic-bezier( .55,.085,.68,.53 )",easeInCubic:"cubic-bezier( .550, .055, .675, .190 )",easeInQuart:"cubic-bezier( .895, .03, .685, .22 )",easeInQuint:"cubic-bezier( .755, .05, .855, .06 )",easeInSine:"cubic-bezier( .47, 0, .745, .715 )",easeInExpo:"cubic-bezier( .95, .05, .795, .035 )",easeInCirc:"cubic-bezier( .6, .04, .98, .335 )",easeInBack:"cubic-bezier( .6, -.28, .735, .045 )",easeOutQuad:"cubic-bezier( .25,.46,.45,.94 )",easeOutCubic:"cubic-bezier( .215,.61,.355,1 )",easeOutQuart:"cubic-bezier( .165, .84, .44, 1 )",easeOutQuint:"cubic-bezier( .23, 1, .32, 1 )",easeOutSine:"cubic-bezier( .39, .575, .565, 1 )",easeOutExpo:"cubic-bezier( .19,1,.22,1 )",easeOutCirc:"cubic-bezier( .075, .82, .165, 1 )",easeOutBack:"cubic-bezier( .175, .885, .32, 1.275 )",easeInOutQuad:"cubic-bezier( .455, .03, .515, .955 )",easeInOutCubic:"cubic-bezier( .645, .045, .355, 1 )",easeInOutQuart:"cubic-bezier( .77, 0, .175, 1 )",easeInOutQuint:"cubic-bezier( .86, 0, .07, 1 )",easeInOutSine:"cubic-bezier( .445, .05, .55, .95 )",easeInOutExpo:"cubic-bezier( 1, 0, 0, 1 )",easeInOutCirc:"cubic-bezier( .785, .135, .15, .86 )",easeInOutBack:"cubic-bezier( .68, -.55, .265, 1.55 )"},renderer:{}}),a.widget("ui.coverflow",{options:{items:"> *",active:0,duration:400,visibleAside:null,easing:"easeOutQuint",angle:45,perspectiveY:45,scale:.7,overlap:.3,trigger:{itemfocus:!1,itemclick:!0,mousewheel:!0,swipe:!0}},isTicking:!1,_create:function(){var c,d,e=this,f=this.options,g=a.coverflow.support||{};e.elementOrigStyle=e.element.attr("style"),e.items=e.element.find(f.items).each(function(){var b=a(this);b.data({coverflowOrigElemAttr:{style:b.attr("style"),class:b.attr("class"),tabIndex:b.attr("tabIndex")}})}).addClass("ui-coverflow-item"),e._setDimensions(),e.support=g,c=g.transform&&!H&&null==b.opera&&g.transform3d?a.coverflow.renderer.ThreeD:a.coverflow.renderer.Classic,d={angle:f.angle,perspectiveY:f.perspectiveY,scale:f.scale,overlap:f.overlap,itemSize:e.itemSize,visibleAside:null===f.visibleAside||isNaN(parseInt(f.visibleAside,10))?0:parseInt(f.visibleAside,10),outerWidth:e.outerWidth},e.renderer=new c(e,e.element,e.items,d),e.element.addClass("ui-coverflow ui-coverflow-"+e.renderer.cssClass+"-render").parent().addClass("ui-coverflow-wrapper ui-clearfix"),f.trigger.itemfocus&&this._bindFocus(),f.trigger.itemclick&&e._on(e.items,{click:e._select}),f.trigger.mousewheel&&(e._on({wheel:m(e._onMouseWheel,20),DOMMouseScroll:m(e._onMouseWheel,20)}),e._on({wheel:e._preventPageScroll,DOMMouseScroll:e._preventPageScroll})),f.trigger.swipe&&e._bindSwipe(),e.useJqueryAnimate=!(g.transition&&a.isFunction(b.requestAnimationFrame)),e.coverflowrafid=0},_bindFocus:function(){var a=this;a.items.prop("tabIndex",0),a._on(a.items,{focus:a._select})},_bindSwipe:function(){var c=this,d=c.element,e=!1,f=!1;a.event.special&&a.event.special.swipe&&(e=!0,a.coverflow.isAndroid&&(a.event.special.swipe.scrollSupressionThreshold=0),a.event.special.swipe.handleSwipe=function(b,c){var d=b.coords,e=c.coords,f=a.event.special.swipe;c.time-b.time<f.durationThreshold&&Math.abs(d[0]-e[0])>f.horizontalDistanceThreshold&&Math.abs(d[1]-e[1])<f.verticalDistanceThreshold&&b.origin.trigger("swipe",{swipestart:b,swipestop:c}).trigger(b.coords[0]>c.coords[0]?"swipeleft":"swiperight",{swipestart:b,swipestop:c})},c._on({swipe:m(c._handleJQmSwipe,150)})),d.hammer&&null!=b.Hammer&&(f=!0,d.hammer().on("drag swipe",function(a){Hammer.utils.isVertical(a.gesture.direction)||a.gesture.preventDefault()}),c._on({swipe:c._handleHammerSwipe})),e||f||c._on({swipeleft:c.next,swiperight:c.prev})},_init:function(){var a=this,b=a.options;b.duration=~~b.duration,b.duration<1&&(b.duration=1),a.currentIndex=a._isValidIndex(b.active,!0)?b.active:0,a.activeItem=a.items.removeClass("ui-state-active").eq(a.currentIndex).addClass("ui-state-active"),a._setDimensions(),a.renderer.initialize(),a._refresh(1,a._getFrom(),a.currentIndex),a._trigger("beforeselect",null,a._ui()),a._trigger("select",null,a._ui())},_setDimensions:function(){var a=this;a.itemWidth=a.items.width(),a.itemHeight=a.items.height(),a.itemSize=a.items.outerWidth(!0),a.outerWidth=a.element.parent().outerWidth(!1)},_isValidIndex:function(a,b){return b=!!b,a=~~a,(this.currentIndex!==a||b)&&a>-1&&!!this.items.get(a)},_select:function(a){this.select(a.currentTarget)},next:function(){return this.select(this.currentIndex+1)},prev:function(){return this.select(this.currentIndex-1)},_handleJQmSwipe:function(a,b){var c=b.swipestart,d=b.swipestop,e=d.time-c.time,f=d.coords[0]-c.coords[0],g=f/e,h=f<0?"left":"right";this._handleSwipe(h,g)},_handleHammerSwipe:function(a){var b=a.gesture;this._handleSwipe(b.direction,b.distance/b.deltaTime)},_handleSwipe:function(a,b){var c,d,e=this;return c=e.outerWidth*Math.pow(b,2)*.25,c/=e.itemWidth,c=Math.floor(c)*("left"===a?1:-1),d=e.currentIndex+c,c?d<0?void e.select(0):e._isValidIndex(d)?void e.select(d):void e.select(e.items.length-1):void("left"===a?e.next():e.prev())},_getFrom:function(){var a=this;return Math.abs(a.previous-a.currentIndex)<=1?a.previousIndex:a.currentIndex+(a.previousIndex<a.currentIndex?-1:1)},select:function(c){var d,e=this,f=e.options,g=isNaN(parseInt(c,10))?e.items.index(c):parseInt(c,10);return!!e._isValidIndex(g)&&(!1!==e._trigger("beforeselect",null,this._ui(e.items.eq(g),g))&&(e.isTicking&&(e.useJqueryAnimate?e.element.stop(!0,!1):(e.coverflowrafid&&b.cancelAnimationFrame(e.coverflowrafid),e.element.unbind(F[e.support.transition]))),e.isTicking=!0,e.previousIndex=e.currentIndex,f.active=e.currentIndex=g,d=a.extend({},e.renderer.select(),{coverflow:1}),e.useJqueryAnimate?e._animation(f,d):(f=a.extend({duration:f.duration,easing:f.easing},d),e._transition(f)),!0))},_animation:function(b,c){var d=this,e=this._getFrom();a.fx.step.coverflow=function(a){d._refresh(a.now,e,d.currentIndex)},d.element.animate(c,{duration:b.duration,easing:b.easing}).promise().done(function(){d._onAnimationEnd()})},_transition:function(c){var d=this,e=new Date,f=d._getFrom(),g=d.currentIndex,h={},i=function(){var a=((new Date).getTime()-e.getTime())/c.duration;a>1?d.isTicking=!1:d._refresh(a,f,g),d.isTicking&&(d.coverflowrafid=b.requestAnimationFrame(i))};a.isFunction(d.renderer.getElementTransitionStyles)&&(h=a.extend(h,d.renderer.getElementTransitionStyles(c))),d.element.one(F[d.support.transition],function(){d._refresh(1,f,g),d._onAnimationEnd()}).css(h),d.coverflowrafid=b.requestAnimationFrame(i)},_onAnimationEnd:function(){var a=this;a.coverflowrafid&&cancelAnimationFrame(a.coverflowrafid),a.isTicking=!1,a.activeItem=a.items.removeClass("ui-state-active").eq(a.currentIndex).addClass("ui-state-active"),a._trigger("select",null,a._ui())},_refresh:function(a,b,c){this.element.parent().scrollTop(0),this.renderer.refresh(a,b,c)},_ui:function(a,b){return{active:a||this.activeItem,index:null!=b?b:this.currentIndex}},_preventPageScroll:function(a){a.preventDefault()},_onMouseWheel:function(a){var c,d=a.originalEvent;if(void 0!==d.deltaMode){if(c=Math.abs(d.deltaX)>Math.abs(d.deltaY)?-d.deltaX:-d.deltaY,d.deltaMode===b.WheelEvent.DOM_DELTA_PIXEL&&c>-10&&c<3)return}else if((c=Math.abs(d.wheelDelta)>0?d.wheelDelta:-d.detail)>-10&&c<3)return;if(c>0)return void this.prev();this.next()},_destroy:function(){var b=this;b.elementOrigStyle!==d?b.element.attr("style",this.elementOrigStyle):b.element.removeAttr("style"),b.element.removeClass("ui-coverflow ui-helper-clearfix ui-coverflow-"+(b.renderer.cssClass||"classic")+"-render").parent().removeClass("ui-coverflow-wrapper ui-clearfix"),b.items.removeClass("ui-coverflow-item ui-state-active").each(function(){var b=a(this),c=b.data("coverflowOrigElemAttr");a.each(c,function(a,c){c!==d?b.attr(a,c):b.removeAttr(a)}),b.data("coverflowOrigElemAttr",null)}),b._super()}})}(jQuery,this,this.document);